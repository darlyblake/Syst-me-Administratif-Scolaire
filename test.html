<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>D√©mo Pointage Enseignants</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      display: flex;
      gap: 20px;
      padding: 20px;
    }

    .phone, .admin {
      background: white;
      padding: 15px;
      border-radius: 10px;
      width: 45%;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      margin-bottom: 10px;
    }

    button {
      padding: 10px;
      margin-top: 10px;
      width: 100%;
      cursor: pointer;
    }

    select, input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }

    .pointage {
      border-bottom: 1px solid #ddd;
      padding: 8px 0;
    }

    .waiting { color: orange; }
    .validated { color: green; }
  </style>
</head>
<body>

  <!-- üì± T√©l√©phone enseignant -->
  <div class="phone">
    <h2>üì± Enseignant</h2>

    <label>Nom enseignant</label>
    <input id="enseignant" value="M. Dupont">

    <label>Classe</label>
    <select id="classe">
      <option>6e A</option>
      <option>5e B</option>
      <option>4e C</option>
    </select>

    <button onclick="demarrerCours()">‚ñ∂Ô∏è D√©marrer le cours</button>
    <button onclick="terminerCours()">‚èπÔ∏è Terminer le cours</button>

    <p id="status"></p>
  </div>

  <!-- üñ•Ô∏è Admin -->
  <div class="admin">
    <h2>üñ•Ô∏è Administration</h2>
    <div id="listePointages"></div>
  </div>

<script>
  let pointages = [];
  let coursEnCours = null;

  function demarrerCours() {
    if (coursEnCours) {
      alert("Un cours est d√©j√† en cours !");
      return;
    }

    coursEnCours = {
      enseignant: document.getElementById("enseignant").value,
      classe: document.getElementById("classe").value,
      debut: new Date(),
      fin: null,
      duree: null,
      statut: "En attente"
    };

    document.getElementById("status").innerText = "Cours en cours...";
  }

  function terminerCours() {
    if (!coursEnCours) {
      alert("Aucun cours en cours");
      return;
    }

    coursEnCours.fin = new Date();
    coursEnCours.duree =
      ((coursEnCours.fin - coursEnCours.debut) / 60000).toFixed(1) + " min";

    pointages.push(coursEnCours);
    coursEnCours = null;
    document.getElementById("status").innerText = "Cours termin√©";

    afficherPointages();
  }

  function afficherPointages() {
    const container = document.getElementById("listePointages");
    container.innerHTML = "";

    pointages.forEach((p, index) => {
      const div = document.createElement("div");
      div.className = "pointage";

      div.innerHTML = `
        <strong>${p.enseignant}</strong> - ${p.classe}<br>
        Dur√©e : ${p.duree}<br>
        Statut : <span class="${p.statut === 'Valid√©' ? 'validated' : 'waiting'}">${p.statut}</span><br>
        ${p.statut === "En attente" ? `<button onclick="valider(${index})">Valider</button>` : ""}
      `;

      container.appendChild(div);
    });
  }

  function valider(index) {
    pointages[index].statut = "Valid√©";
    afficherPointages();
  }
</script>

</body>
</html>
